"use strict";(()=>{var e={};e.id=186,e.ids=[186],e.modules={1720:e=>{e.exports=require("@google-cloud/text-to-speech")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8383:(e,t,a)=>{a.r(t),a.d(t,{config:()=>p,default:()=>s,routeModule:()=>d});var o={};a.r(o),a.d(o,{default:()=>handler});var i=a(1802),n=a(7153),r=a(6249);async function koeiromapFreeV1(e,t,a,o,i){let n=await fetch("https://api.rinna.co.jp/koeiromap/v1.0/infer",{method:"POST",body:JSON.stringify({text:e,speaker_x:t,speaker_y:a,style:o,output_format:"mp3"}),headers:{"Content-Type":"application/json","Cache-Control":"no-cache","Ocp-Apim-Subscription-Key":i}}),r=await n.json();return{audio:r.audio}}async function googleTts(e,t){let o=a(1720),i=new o.TextToSpeechClient,[n]=await i.synthesizeSpeech({input:{text:e},voice:{languageCode:"en-US",name:t,ssmlGender:"FEMALE"},audioConfig:{audioEncoding:"LINEAR16"}});return{audio:n.audioContent}}async function handler(e,t){let a;let o=e.body.message,i=e.body.speakerX,n=e.body.speakerY,r=e.body.style,s=e.body.apiKey,p=e.body.ttsType,d=e.body.type;a="koeiromap"==d?await koeiromapFreeV1(o,i,n,r,s):await googleTts(o,p),t.status(200).json(a)}let s=(0,r.l)(o,"default"),p=(0,r.l)(o,"config"),d=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/tts",pathname:"/api/tts",bundlePath:"",filename:""},userland:o})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(8383));module.exports=a})();